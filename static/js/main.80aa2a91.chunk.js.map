{"version":3,"sources":["index.js","constants.js","Components/Role.js","panels/EventSent.js","base.js","App.js","panels/EnterStart.js","panels/EnterFinish.js","panels/TabAccount.js","panels/TabAdmin.js","panels/AddIvent/Checkout.js","panels/AddIvent/AddressForm.js","panels/AddIvent/PaymentForm.js","panels/AddIvent/Review.js","panels/TabLost.js","panels/TabDonate.js","panels/EventInfo.js","Components/EventCard.js","panels/TabEvents.js","panels/TabMap.js","panels/TabWork.js","panels/Main.js"],"names":["connect","send","ReactDOM","render","document","getElementById","VIEW_ENTER","VIEW_MAIN","VIEW_EVENT_INFO","VIEW_EVENT_SENT","VIEW_WORK_INFO","PANEL_ENTER_START","PANEL_ENTER_FINISH","PANEL_MAIN","PANEL_EVENT_INFO","PANEL_EVENT_SENT","PANEL_WORK_INFO","TAB_EVENTS","TAB_WORK","TAB_MAP","TAB_ACCOUNT","TAB_LOST","TAB_DONATE","STATUS_DEFAULT","STATUS_REQUESTED","STATUS_APPROVED","panelsOrder","panels","getViewByPanel","panelId","Object","keys","find","viewName","indexOf","Role","props","name","current","need","className","EventSent","event","this","left","onClick","go","title","Array","isArray","roles","length","top","map","role","index","key","size","showPopout","setTimeout","hidePopout","update","activeTab","updateEventStatus","id","Component","PropTypes","bool","string","node","number","App","RESP","url","fetch","referrerPolicy","then","response","json","result","global","jsn","events","error","console","log","RESPSH","shelters","RESPVLT","vlt","getJSON","callback","xhr","XMLHttpRequest","open","responseType","onload","status","loglog","err","data","connectListener","e","detail","type","exp","level","userInfo","setState","version","clientVersion","eventId","state","includes","Error","viewId","activeView","activePanels","newState","options","next","Promise","resolve","clean","popout","currentPanelId","currentViewId","reduce","acc","vkConnect","subscribe","vkConnectPromise","lat","lon","long","catch","phone_number","user_info","activePanel","theme","EnterStart","onButtonClick","placeholder","value","defaultProps","first_name","last_name","patronymic","EnterFinish","moment","require","locale","TabAccount","clicked","checkboxChange","vlt_i","method","headers","body","JSON","stringify","allergy","value1","loadWorksheep","i","push","flag","urlVK","toString","isAdmin","res","searcher","startPage","src","photo_200","karma","max","bdate","format","onChange","alt","variant","color","style","height","WorksheetSelector","TabAdmin","date","shelter","place","description","that","Copyright","align","href","Date","getFullYear","useStyles","makeStyles","appBar","position","layout","width","marginLeft","spacing","marginRight","breakpoints","up","paper","marginTop","marginBottom","padding","stepper","buttons","display","justifyContent","button","steps","Checkout","classes","React","useState","activeStep","setActiveStep","Fragment","noWrap","component","label","gutterBottom","step","getStepContent","XP","AddressForm","container","item","xs","sm","class","target","control","PaymentForm","md","listItem","total","fontWeight","Review","TabLost","sending","token","access_token","post","for","TabDonate","donate","current_id","checked","EventInfo","cover","qrSvg","vkQr","createQR","qrSize","isShowLogo","dangerouslySetInnerHTML","__html","undefined","user_id","split","EventCard","where","caption","data-badge-caption","wide","TabEvents","items","TabMap","isLoaded","defaultState","center","zoom","geometry","properties","hintContent","balloonContent","modules","float","TabWork","openEvent","eventName","currentTarget","getAttribute","workActiveTab","filter","selected","Main","onTabClick","dataset","onDonate","getTabComponent","TabComponent","bottom","vertical","data-id"],"mappings":"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","file":"static/js/main.80aa2a91.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport App from './App';\r\n// import registerServiceWorker from './sw';\r\n\r\n// Init VK  Mini App\r\nconnect.send('VKWebAppInit');\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","export const VIEW_ENTER = 'enter';\r\nexport const VIEW_MAIN = 'main';\r\nexport const VIEW_EVENT_INFO = 'event_info';\r\nexport const VIEW_EVENT_SENT = 'event_sent';\r\nexport const VIEW_WORK_INFO = 'work_info';\r\n\r\nexport const PANEL_ENTER_START = 'enter_start';\r\nexport const PANEL_ENTER_FINISH = 'enter_finish';\r\nexport const PANEL_MAIN = 'main';\r\nexport const PANEL_EVENT_INFO = 'event_info';\r\nexport const PANEL_EVENT_SENT = 'event_sent';\r\nexport const PANEL_WORK_INFO = 'work_info';\r\n\r\nexport const TAB_EVENTS = 'events';\r\nexport const TAB_WORK = 'work';\r\nexport const TAB_MAP = 'map';\r\nexport const TAB_ACCOUNT = 'account';\r\nexport const TAB_ADMIN = 'admin';\r\nexport const TAB_LOST = 'lost';\r\nexport const TAB_DONATE = 'donate';\r\n\r\nexport const STATUS_DEFAULT = 1;\r\nexport const STATUS_REQUESTED = 2;\r\nexport const STATUS_APPROVED = 3;\r\n\r\nexport const panelsOrder = {\r\n  [VIEW_ENTER]: [PANEL_ENTER_START, PANEL_ENTER_FINISH],\r\n  [VIEW_MAIN]: [PANEL_MAIN],\r\n  [VIEW_EVENT_INFO]: [PANEL_EVENT_INFO],\r\n  [VIEW_EVENT_SENT]: [PANEL_EVENT_SENT],\r\n  [VIEW_WORK_INFO]: [PANEL_WORK_INFO],\r\n};\r\n\r\nexport const panels = [\r\n  PANEL_ENTER_START,\r\n  PANEL_ENTER_FINISH,\r\n  PANEL_MAIN,\r\n  PANEL_EVENT_INFO,\r\n  PANEL_EVENT_SENT,\r\n  PANEL_WORK_INFO\r\n];\r\n\r\nexport const getViewByPanel = (panelId) => {\r\n  return Object.keys(panelsOrder).find((viewName) => panelsOrder[viewName].indexOf(panelId) >= 0);\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Role.css';\r\nimport Icon24User from '@vkontakte/icons/dist/24/user';\r\n\r\nfunction Role(props) {\r\n  const { name, current, need } = props;\r\n\r\n  return (\r\n    <div className=\"EventRole\">\r\n      <div className=\"EventRole__name\">{name}</div>\r\n      <div className=\"EventRole__current\">{current}</div>\r\n      <div className=\"EventRole__delimiter\">/</div>\r\n      <div className=\"EventRole__need\">{need}</div>\r\n      <Icon24User />\r\n    </div>\r\n  );\r\n}\r\n\r\nRole.propTypes = {\r\n  name: PropTypes.node,\r\n  current: PropTypes.number,\r\n  need: PropTypes.number,\r\n};\r\n\r\nexport default Role;","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, Button, PanelHeaderBack, FormLayoutGroup, Radio, ScreenSpinner } from '@vkontakte/vkui';\r\nimport { TAB_WORK, PANEL_MAIN, PANEL_EVENT_INFO, STATUS_REQUESTED } from '../constants';\r\nimport { EventPropType } from '../base';\r\n\r\nexport default class EventSent extends Component {\r\n  static propTypes = {\r\n    event: PropTypes.shape(EventPropType),\r\n\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    showPopout: PropTypes.func.isRequired,\r\n    hidePopout: PropTypes.func.isRequired,\r\n    updateEventStatus: PropTypes.func,\r\n  };\r\n\r\n  render() {\r\n    const { event } = this.props;\r\n\r\n    return (\r\n      <Fragment>\r\n        <PanelHeader left={<PanelHeaderBack onClick={() => this.props.go(PANEL_EVENT_INFO)} />}>—</PanelHeader>\r\n\r\n        <div className=\"EventSent\">\r\n          <div className=\"EventSent__in\">\r\n            <FormLayout>\r\n              <div className=\"EventSent__title\">{event.title}</div>\r\n\t\t\t\t<div>Нажимая кнопку, Вы даете согласие на обработку своих данных.</div>\r\n              {Array.isArray(event.roles) && event.roles.length > 0 &&\r\n              <FormLayoutGroup top=\"Выберите должность\">\r\n                {event.roles.map((role, index) => {\r\n                  return (\r\n                    <Radio\r\n                      key={index}\r\n                      name=\"role\"\r\n                    >{role.name}</Radio>\r\n                  );\r\n                })}\r\n              </FormLayoutGroup>}\r\n\r\n              <Button size=\"xl\" onClick={() => {\r\n                this.props.showPopout(<ScreenSpinner />);\r\n                setTimeout(() => {\r\n                  this.props.hidePopout();\r\n                  this.props.update(PANEL_MAIN, { activeTab: TAB_WORK });\r\n                  this.props.updateEventStatus(this.props.event.id, STATUS_REQUESTED);\r\n                  this.props.go(PANEL_MAIN);\r\n                }, 1000);\r\n              }}>Отправить</Button>\r\n            </FormLayout>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import PropTypes from 'prop-types';\r\n\r\nexport const EventPropType = {\r\n  allergy: PropTypes.bool,\r\n  date: PropTypes.string,\r\n  description: PropTypes.string,\r\n  exp: PropTypes.node,\r\n  id: PropTypes.node,\r\n  place: PropTypes.string,\r\n  shelter: PropTypes.node\r\n};\r\n\r\nexport const UserPropType = {\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n    surname: PropTypes.string,\r\n    age: PropTypes.number,\r\n  };","import React, { Component } from 'react';\r\nimport { Root, View, Panel } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './style.css';\r\nimport vkConnect from '@vkontakte/vk-connect';\r\nimport EnterStart from './panels/EnterStart';\r\nimport EnterFinish from './panels/EnterFinish';\r\nimport vkConnectPromise from '@vkontakte/vk-connect-promise';\r\n\r\nimport { VIEW_ENTER, PANEL_MAIN, VIEW_MAIN, PANEL_ENTER_START, PANEL_ENTER_FINISH, panels, panelsOrder, getViewByPanel, VIEW_EVENT_INFO, PANEL_EVENT_INFO, PANEL_EVENT_SENT, VIEW_EVENT_SENT, VIEW_WORK_INFO, PANEL_WORK_INFO, STATUS_DEFAULT, STATUS_REQUESTED, STATUS_APPROVED } from './constants';\r\nimport Main from './panels/Main';\r\nimport EventInfo from './panels/EventInfo';\r\nimport EventSent from './panels/EventSent';\r\n\r\nexport default class App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const currentPanelId = PANEL_MAIN;\r\n    const currentViewId = getViewByPanel(currentPanelId);\r\n\r\n    this.state = {\r\n      activeView: currentViewId,\r\n      activePanels: Object.keys(panelsOrder).reduce((acc, viewId) => {\r\n        acc[viewId] = panelsOrder[viewId][0];\r\n        return acc;\r\n      }, {}),\r\n\r\n      ...panels.reduce((acc, panelId) => {\r\n        acc[panelId] = {};\r\n        return acc;\r\n      }, {}),\r\n    };\r\n  }\r\n\r\n    RESP = (url) => {\r\n    fetch(url, {referrerPolicy: \"unsafe-url\"})\r\n    .then(response => response.json())\r\n    .then(result => {\r\n      global.jsn = result;\r\n      this.update(PANEL_MAIN, {events: global.jsn});\r\n    },\r\n    // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n    // чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n    (error) => {\r\n      console.log(error)\r\n    });\r\n    }\r\n\r\n    RESPSH = (url) => {\r\n      fetch(url)\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        global.shelters = result;\r\n      },\r\n      // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n      // чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n      (error) => {\r\n        console.log(error)\r\n      });\r\n      }\r\n\r\n    RESPVLT = (url) => {\r\n      fetch(url)\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        global.vlt = result;\r\n        \r\n      },\r\n      // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n      // чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n      (error) => {\r\n        console.log(error)\r\n      });\r\n      console.log(url)\r\n      }\r\n\r\n  getJSON = (url, callback) => {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open('GET', url, true);\r\n    xhr.responseType = 'json';\r\n    xhr.onload = function() {\r\n      var status = xhr.status;\r\n      if (status === 200) {\r\n        callback(null, xhr.response);\r\n      } else {\r\n        callback(status, xhr.response);\r\n      }\r\n    };\r\n    xhr.send();\r\n  }\r\n\r\n  loglog = (err, data) =>{\r\n    console.log(err, data)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.RESP('https://56e779c6.ngrok.io/api/v1/task/getlist/?format=json')\r\n    this.RESPSH('https://56e779c6.ngrok.io/api/v1/shelter/getlist/?format=json')\r\n    this.RESPVLT('https://56e779c6.ngrok.io/api/v1/vlt/getlist/?format=json')\r\n    //this.getJSON('https://56e779c6.ngrok.io/api/v1/task/getlist/?format=json', this.loglog)\r\n    console.log(global.jsn)\r\n    console.log(global.shelters)\r\n    console.log(global.vlt)\r\n    vkConnect.subscribe(this.connectListener);\r\n    vkConnect.send('VKWebAppGetUserInfo', {});\r\n    /*vkConnect.subscribe(this.connectListener);\r\n    vkConnect.send('VKWebAppGetUserInfo', {});*/\r\n\r\n    vkConnectPromise\r\n      .send('VKWebAppGetGeodata')\r\n      .then(data => {\r\n        global.lat = data.lat;\r\n        global.lon = data.long;\r\n        console.log(global.lat, global.lon)\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      });\r\n\r\n    vkConnectPromise\r\n      .send('VKWebAppGetPhoneNumber')\r\n      .then(data => {\r\n        // Handling received data\r\n        console.log(data.phone_number);\r\n        global.phone_number = '+' + data.phone_number;\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      })\r\n\r\n      vkConnectPromise\r\n      .send('VKWebAppGetUserInfo')\r\n      .then(data => {\r\n        // Handling received data\r\n        console.log(data)\r\n        global.user_info = data;\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      });\r\n    \r\n\r\n    /*const events = [\r\n      {\r\n        id: 1,\r\n        title: 'Выставка \"Почему?\"',\r\n        cover: 'https://sun9-37.userapi.com/c855236/v855236666/10b3f7/2P8vRgLiN5g.jpg',\r\n        where: `Открытая коллекция Политехнического музея (Москва, м. Текстильщики, Волгоградский проспект, д. 42, корп. 5, 2 этаж, вход через КПП №3)`,\r\n        exp: 'от 100 EXP',\r\n        caption: `Почему опасно перемещаться во времени? Почему мы забываем сны? Почему в носу есть дырки? Почему хомяки боятся летать в космос поодиночке?…`,\r\n        description: `\r\n        - Почему опасно перемещаться во времени?<br />\r\n        - Почему мы забываем сны?<br />\r\n        - Почему в носу есть дырки?<br />\r\n        - Почему хомяки боятся летать в космос поодиночке?<br /><br />\r\n        Попробуйте представить, как могут выглядеть ответы на эти вопросы.\r\n        Если не получается, приходите на выставку «Почему?» в Открытую коллекцию Политеха.\r\n        Будем искать образы и ответы вместе с юными художниками и мастерами творческой «Студии ДЭЗ №5».\r\n        Целый год они сомневались и удивлялись. И теперь вы можете увидеть скульптурные композиции-вопросы, которые участники выставки\r\n        буквально «встроили» в ряды гигантских электронных вычислительных машин, исторических автомобилей,\r\n        макетов энергетических установок и телефонных аппаратов. Детский взгляд позволяет по-новому понять и старые вещи, и современное искусство.\r\n        `,\r\n        roles: [{\r\n          name: 'Переноска оборудования',\r\n          current: 70,\r\n          need: 100,\r\n        }, {\r\n          name: 'Встреча гостей',\r\n          current: 4,\r\n          need: 10,\r\n        }],\r\n        status: STATUS_DEFAULT,\r\n      },\r\n      {\r\n        id: 2,\r\n        title: 'Сканирование базы',\r\n        exp: 'от 200 EXP',\r\n        where: 'Открытая коллекция Политехнического музея (Москва, м. Текстильщики, Волгоградский проспект, д. 42, корп. 5, 2 этаж, вход через КПП №3)',\r\n        caption: 'У нас есть интереснейшее задание для Вас, друзья, на днях в нашем музее проходила мастер-класс с французским архитектором. Он вместе с детьми сделали несколько поделок…',\r\n        roles: [{\r\n          name: 'Волонтёры',\r\n          current: 0,\r\n          need: 1,\r\n        }],\r\n        status: STATUS_DEFAULT,\r\n      },\r\n      {\r\n        id: 3,\r\n        title: 'VK Hackathon 2019',\r\n        cover: require('./img/hack.jpg'),\r\n        exp: '499 exp',\r\n        where: 'Центральный выставочный зал \"Манеж\", Санкт-Петербург',\r\n        caption: 'Пятый хакатон пройдет с 27 по 29 сентября. Свои проекты представят 600 участников из 150 команд...',\r\n        roles: [{\r\n          id: 1,\r\n          name: 'Встреча гостей',\r\n          current: 1,\r\n          need: 2,\r\n        }, {\r\n          id: 2,\r\n          name: 'Раздача мерча',\r\n          current: 1,\r\n          need: 2,\r\n        }, {\r\n          id: 3,\r\n          name: 'Помощь на территории',\r\n          current: 7,\r\n          need: 20,\r\n        }],\r\n        status: STATUS_APPROVED,\r\n      },\r\n    ];*/\r\n    //this.update(PANEL_MAIN, { events: events });\r\n\t\r\n\t\r\n  }\r\n\r\n  connectListener = (e) => {\r\n    const { type, data } = e.detail;\r\n\tconsole.log(data);\r\n    switch (type) {\r\n      case 'VKWebAppGetUserInfoResult':\r\n\t    {\r\n\t\t\t\r\n\t\t\tdata.exp = 0;\r\n\t\t\tdata.level = 3;\r\n      global.userInfo = data;\r\n      //global.userInfo.isAdmin = false;\r\n      \r\n\t\t\tthis.setState({ userInfo: data });\r\n\t\t\tbreak;\r\n\t\t}\r\n      case 'VKWebAppGetClientVersionResult':\r\n        const { version } = data;\r\n        this.setState({ clientVersion: version });\r\n        break;\r\n      case 'VKWebAppAccessTokenReceived': {\r\n        // const { access_token, secret } = data;\r\n        break;\r\n      }\r\n      case 'VKWebAppAccessTokenFailed':\r\n        // vkConnect.send('VKWebAppClose', { status: 'error', text: 'Доступ запрещен' });\r\n        break;\r\n      default:\r\n    }\r\n  };\r\n\r\n  updateEventStatus = (eventId, status) => {\r\n    const events = (this.state[PANEL_MAIN].events || []).map((event) => {\r\n      if (event.id === eventId) {\r\n        return { ...event, status };\r\n      }\r\n      return event;\r\n    });\r\n    this.update(PANEL_MAIN, { events: events });\r\n  }\r\n\r\n  go = (panelId) => {\r\n    if (!panels.includes(panelId)) {\r\n      throw new Error('[App.go] panelId is not found in panels');\r\n    }\r\n\r\n    const viewId = getViewByPanel(panelId);\r\n\r\n    this.setState({\r\n      activeView: viewId,\r\n      activePanels: {\r\n        ...this.state.activePanels,\r\n        [viewId]: panelId,\r\n      },\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Обновляет state панели\r\n   *\r\n   * @param {string} panelId id панели\r\n   * @param {object} newState Объект стейта, который нужно смержить с текущим\r\n   * @param {object} options\r\n   * @param {function} next Колбек, который будет вызван после обновления стейта\r\n   */\r\n  update = (panelId, newState, options = {}, next) => {\r\n    return new Promise((resolve) => {\r\n      if (options.clean) {\r\n        this.setState({ [panelId]: newState }, next || resolve);\r\n      } else {\r\n        this.setState((state) => ({\r\n          [panelId]: {\r\n            ...state[panelId],\r\n            ...newState,\r\n          },\r\n        }), next || resolve);\r\n      }\r\n    });\r\n  };\r\n\r\n  showPopout = (popout) => {\r\n    this.setState({ popout });\r\n  };\r\n\r\n  hidePopout = () => {\r\n    this.setState({ popout: null });\r\n  };\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <Root activeView={this.state.activeView} popout={this.state.popout}>\r\n        <View id={VIEW_ENTER} activePanel={this.state.activePanels[VIEW_ENTER]}>\r\n          <Panel id={PANEL_ENTER_START} theme=\"white\">\r\n            <EnterStart\r\n              {...this.state[PANEL_ENTER_START]}\r\n              update={this.update}\r\n              go={this.go}\r\n            />\r\n          </Panel>\r\n          <Panel id={PANEL_ENTER_FINISH}>\r\n            <EnterFinish\r\n              {...this.state[PANEL_ENTER_FINISH]}\r\n              update={this.update}\r\n              go={this.go}\r\n            />\r\n          </Panel>\r\n        </View>\r\n\r\n        <View id={VIEW_MAIN} activePanel={this.state.activePanels[VIEW_MAIN]}>\r\n          <Panel id={PANEL_MAIN}>\r\n            <Main\r\n              {...this.state[PANEL_MAIN]}\r\n              update={this.update}\r\n              go={this.go}\r\n              userInfo={this.state.userInfo}\r\n            />\r\n          </Panel>\r\n        </View>\r\n\r\n        <View id={VIEW_EVENT_INFO} activePanel={this.state.activePanels[VIEW_EVENT_INFO]}>\r\n          <Panel id={PANEL_EVENT_INFO}>\r\n            <EventInfo\r\n              {...this.state[PANEL_EVENT_INFO]}\r\n              update={this.update}\r\n              go={this.go}\r\n              updateEventStatus={this.updateEventStatus}\r\n              showPopout={this.showPopout}\r\n              hidePopout={this.hidePopout}\r\n            />\r\n          </Panel>\r\n        </View>\r\n\r\n        <View id={VIEW_EVENT_SENT} activePanel={this.state.activePanels[VIEW_EVENT_SENT]}>\r\n          <Panel id={PANEL_EVENT_SENT}>\r\n            <EventSent\r\n              {...this.state[PANEL_EVENT_SENT]}\r\n              update={this.update}\r\n              go={this.go}\r\n              showPopout={this.showPopout}\r\n              hidePopout={this.hidePopout}\r\n              updateEventStatus={this.updateEventStatus}\r\n            />\r\n          </Panel>\r\n        </View>\r\n\r\n        <View id={VIEW_WORK_INFO} activePanel={this.state.activePanels[VIEW_WORK_INFO]}>\r\n          <Panel id={PANEL_WORK_INFO}>\r\n            <EventSent\r\n              {...this.state[PANEL_WORK_INFO]}\r\n              update={this.update}\r\n              go={this.go}\r\n            />\r\n          </Panel>\r\n        </View>\r\n      </Root>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\n//import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, Input, Button, Select, FormStatus } from '@vkontakte/vkui';\r\nimport { PANEL_ENTER_FINISH, TAB_EVENTS, TAB_WORK, TAB_MAP, TAB_ACCOUNT, PANEL_MAIN } from '../constants';\r\n\r\nexport default class EnterStart extends Component {\r\n  static propTypes = {\r\n    first_name: PropTypes.func,\r\n    last_name: PropTypes.func,\r\n    patronymic: PropTypes.func,\r\n\r\n    error: PropTypes.node,\r\n\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    first_name: '',\r\n    last_name: '',\r\n    patronymic: '',\r\n  };\r\n\r\n  onButtonClick = () => {\r\n    this.props.go(PANEL_ENTER_FINISH);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <PanelHeader>ПОЛИТЕХ</PanelHeader>\r\n        <FormLayout>\r\n          {this.props.error && <FormStatus state=\"error\">{this.props.error}</FormStatus>}\r\n\r\n          <Input\r\n            top=\"Имя\"\r\n          />\r\n          <Input\r\n            top=\"Фамилия\"\r\n          />\r\n          <Input\r\n            top=\"Отчество\"\r\n          />\r\n\r\n          <Select top=\"Дата рождения\" placeholder=\"День\" name=\"purpose\">\r\n            <option value=\"1\">1</option>\r\n            <option value=\"2\">2</option>\r\n            <option value=\"3\">3</option>\r\n            <option value=\"4\">4</option>\r\n            <option value=\"5\">5</option>\r\n            <option value=\"6\">6</option>\r\n            <option value=\"7\">7</option>\r\n            <option value=\"8\">8</option>\r\n            <option value=\"9\">9</option>\r\n            <option value=\"10\">10</option>\r\n            <option value=\"11\">11</option>\r\n            <option value=\"12\">12</option>\r\n            <option value=\"13\">13</option>\r\n            <option value=\"14\">14</option>\r\n            <option value=\"15\">15</option>\r\n            <option value=\"16\">16</option>\r\n            <option value=\"17\">17</option>\r\n            <option value=\"18\">18</option>\r\n            <option value=\"19\">19</option>\r\n            <option value=\"20\">20</option>\r\n            <option value=\"21\">21</option>\r\n            <option value=\"22\">22</option>\r\n            <option value=\"23\">23</option>\r\n            <option value=\"24\">24</option>\r\n            <option value=\"25\">25</option>\r\n            <option value=\"26\">26</option>\r\n            <option value=\"27\">27</option>\r\n            <option value=\"28\">28</option>\r\n            <option value=\"29\">29</option>\r\n            <option value=\"30\">30</option>\r\n            <option value=\"31\">31</option>\r\n          </Select>\r\n          <Select placeholder=\"Месяц\">\r\n            <option value=\"1\">1</option>\r\n            <option value=\"2\">2</option>\r\n            <option value=\"3\">3</option>\r\n            <option value=\"4\">4</option>\r\n            <option value=\"5\">5</option>\r\n            <option value=\"6\">6</option>\r\n            <option value=\"7\">7</option>\r\n            <option value=\"8\">8</option>\r\n            <option value=\"9\">9</option>\r\n            <option value=\"10\">10</option>\r\n            <option value=\"11\">11</option>\r\n            <option value=\"12\">12</option>\r\n          </Select>\r\n          <Select placeholder=\"Год\">\r\n            <option value=\"1\">1</option>\r\n            <option value=\"2\">2</option>\r\n            <option value=\"3\">3</option>\r\n            <option value=\"4\">4</option>\r\n            <option value=\"5\">5</option>\r\n            <option value=\"6\">6</option>\r\n            <option value=\"7\">7</option>\r\n            <option value=\"8\">8</option>\r\n            <option value=\"9\">9</option>\r\n            <option value=\"10\">10</option>\r\n            <option value=\"11\">11</option>\r\n            <option value=\"12\">12</option>\r\n          </Select>\r\n\r\n          <Button size=\"xl\" onClick={this.onButtonClick}>Далее</Button>\r\n        </FormLayout>\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, FormStatus, Button, Input } from '@vkontakte/vkui';\r\nimport { PANEL_MAIN } from '../constants';\r\n\r\nexport default class EnterFinish extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <PanelHeader>Этап 2</PanelHeader>\r\n        <FormLayout>\r\n          <Input top=\"Ваш номер телефона\" />\r\n          <Input top=\"Ваш E-mail\" />\r\n\r\n          <Button onClick={() => this.props.go(PANEL_MAIN)}>ЗАРЕГИСТРИРОВАТЬСЯ</Button>\r\n        </FormLayout>\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, FormStatus, Button, Input, PanelHeaderBack, View, Panel, Slider, Select, Group, Div, InfoRow,\r\n  Progress, File, Tabs, TabsItem, Avatar } from '@vkontakte/vkui';\r\nimport './TabAccount.css';\r\nimport TabAdmin from './TabAdmin';\r\nvar moment = require('moment');\r\nrequire('moment/locale/ru');\r\nmoment.locale('ru');\r\n\r\n\r\n\r\nexport default class TabAccount extends Component {\r\n  static propTypes = {\r\n    userInfo: PropTypes.object,\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n  \r\n  state = {\r\n    clicked: 'false'\r\n  }\r\n\r\n  static defaultProps = {\r\n    userInfo: {\r\n      first_name: 'Негр',\r\n      last_name: 'Танцующий',\r\n      photo_200: 'http://pics.wikireality.ru/upload/thumb/f/f4/82f2426f2971.jpg/300px-82f2426f2971.jpg',\r\n      bdate: '12.11.2000',\r\n\t  exp: 280,\r\n\t  level: 1\r\n    },\r\n  };\r\n\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value1: 50,\r\n      loadWorksheep: false\r\n    };\r\n  }\r\n\r\n  options () {\r\n    const options = [];\r\n    for (let i = 0; i <= 10; i += 2) {\r\n      options.push(<option value={`${i / 10}`} key={`${i}`}>{i / 10}</option>);\r\n    }\r\n    return options;\r\n  }\r\n\t\r\n  checkboxChange = () => {\r\n\t  // ХЕНДЛЕР ДЛЯ ЧЕКБОКСА\r\n\t  fetch('https://56e779c6.ngrok.io/api/v1/vlt/detail/'+global.vlt[global.vlt_i].id, {\r\n      method: 'PUT', // Method itself\r\n      headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n      'id': global.vlt[global.vlt_i].id,\r\n\t  'allergy': !global.vlt[global.vlt_i].allergy\r\n      })});\r\n      global.vlt[global.vlt_i].allergy = !global.vlt[global.vlt_i].allergy;\r\n      console.log(global.vlt[global.vlt_i].allergy)\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    const { userInfo } = this.props;\r\n    console.log(global.shelters);\r\n    \r\n    var flag = false;\r\n    for (var i = 0; i < global.vlt.length; i++){\r\n      if (global.vlt[i].urlVK === (global.user_info.id).toString()) {\r\n\t\t    global.vlt_i = i;\r\n        flag = true;\r\n        global.userInfo.isAdmin = global.vlt[i].isAdmin;\r\n        console.log(global.vlt[global.vlt_i]);\r\n        console.log(global.userInfo.isAdmin)\r\n      }\r\n    } \r\n  \r\n    if (!flag){\r\n      console.log('flag')\r\n      fetch('https://56e779c6.ngrok.io/api/v1/vlt/create/', {\r\n      method: 'POST', // Method itself\r\n      headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n      //'birth_date': global.user_info.bdate,\r\n      'phone': global.phone_number,\r\n      'vorname': global.user_info.first_name,\r\n      'nachname': global.user_info.last_name,\r\n      'urlVK': global.user_info.id,\r\n      //'profile_image': global.user_info.photo_200,\r\n      })}).then(function(res){ console.log(res) })\r\n      .catch(function(res){ console.log(res) });\r\n\r\n    }\r\n\r\n    const isAdmin = true;\r\n\r\n    console.log(global.user_info)\r\n    console.log(flag)\r\n    var searcher = {};\r\n    for (var i = 0; i < global.shelters.length; i++){\r\n      searcher[global.shelters[i].urlVK] = global.shelters[i].title;\r\n      const startPage = (\r\n        <Fragment>\r\n        <div className=\"Account\">\r\n          <div className=\"Account__in\">\r\n            <div className=\"Account__data\">\r\n              {/* <div className=\"Account__dataTabs\">\r\n                <Tabs>\r\n                  <TabsItem>Данные</TabsItem>\r\n                  <TabsItem>Отзывы</TabsItem>\r\n                  <TabsItem>История</TabsItem>\r\n                </Tabs>\r\n              </div> */}\r\n\r\n              <FormLayout>\r\n                <div className=\"Account__header\">\r\n                  <div className=\"Account__hero\">\r\n                    <div className=\"Account__avatar\">\r\n                      <img src={userInfo.photo_200} />\r\n                    </div>\r\n                    <div className=\"Account__name\">{userInfo.first_name} {userInfo.last_name}</div>\r\n                    <div className=\"Account__name Account__level\"> Уровень {1}</div>\r\n                  </div>\r\n                  <div className=\"Account_progress\">\r\n                    <progress value={global.vlt[global.vlt_i].karma} max={1000}></progress><br/>\r\n                    {global.vlt[global.vlt_i].karma}/{1000}\r\n                  </div>\r\n                </div>\r\n                <Input \r\n                  top=\"День рождения\"\r\n                  value={moment(userInfo.bdate, \"DD-MM-YYYY\").format(\"DD MMMM\")}\r\n                  onChange={() => {}}\r\n                />\r\n                <Input \r\n                  top=\"Номер телефона\"\r\n                  value={ global.phone_number }\r\n                  onChange={() => {}}\r\n                />\r\n\r\n                <div className=\"User__info\">\r\n                  <div className=\"User__bdate\">\r\n                    <h5 className=\"User__bdate title\">\r\n                      День рождения:\r\n                    </h5>\r\n                    {moment(userInfo.bdate, \"DD-MM-YYYY\").format(\"DD MMMM\")}\r\n                  </div>\r\n                  <div className=\"User__phone__number\">\r\n                    <h3 className=\"User__number title\">\r\n                      Номер телефона:\r\n                    </h3>\r\n                    {global.phone_number}\r\n                  </div>\r\n                </div>\r\n                <center>\r\n                  <img src='https://barcode.tec-it.com/barcode.ashx?data=AA1234' alt=\"Карта волонтера\" />\r\n                </center>\r\n\t\t\t\t <p>&emsp;\t    \r\n\t\t\t\t  <label>\r\n\t\t\t\t\t<input type=\"checkbox\" onChange={this.checkboxChange}/>\r\n\t\t\t\t\t<span>Наличие аллергии на животных {}</span>\r\n\t\t\t\t  </label>\r\n\t\t\t\t</p>\r\n        <div className=\"Account_admin\">\r\n              {global.userInfo.isAdmin && (<Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => \r\n                  { \r\n                  this.setState({loadWorksheep: true})\r\n                }}\r\n            >\r\n                Страница администратора\r\n              </Button>)}\r\n                \r\n              \r\n              \r\n        </div>\r\n              </FormLayout>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* <div>\r\n            Карма\r\n        </div>\r\n        <div>\r\n          <FormLayout>\r\n            <File top=\"Загрузите ваше фото\" before={<Icon28Camera />} size=\"l\">\r\n            Открыть галерею\r\n            </File>\r\n            <InfoRow title=\"Default\">\r\n              <Progress value={40} />\r\n            </InfoRow>\r\n          </FormLayout>\r\n        </div> */}\r\n\r\n        <div style={{ height: 60 }} />\r\n      </Fragment>\r\n      );\r\n\r\n    return (\r\n      <div>{ this.state.loadWorksheep ? <WorksheetSelector/> : startPage }</div>\r\n    );\r\n  }\r\n  }\r\n}\r\n\r\nfunction WorksheetSelector(props) {\r\n  return (\r\n    <TabAdmin></TabAdmin>\r\n  );\r\n}\r\n\r\n","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Checkout from './AddIvent/Checkout';\r\n\r\n\r\nexport default class TabAdmin extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n\r\n  };\r\n\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n        title: \"\",\r\n        date: \"\",\r\n        shelter: \"\",\r\n        allergy: \"\",\r\n        place: \"\",\r\n        status: \"\",\r\n        description: \"\", \r\n    };\r\n    global.that = this\r\n  }\r\n \r\n  render() {\r\n    const {  } = this.props;\r\n    return (\r\n        <Checkout>\r\n\r\n        </Checkout>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AddressForm from './AddressForm';\r\nimport PaymentForm from './PaymentForm';\r\nimport Review from './Review';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://vk.com/haxephado\">\r\n        Tragic City\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 600,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(6),\r\n      marginBottom: theme.spacing(6),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst steps = ['Описание', 'Дополнительные сведения', 'Проверка'];\r\n\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return <AddressForm />;\r\n    case 1:\r\n      return <PaymentForm />;\r\n    case 2:\r\n      return <Review />;\r\n    default:\r\n      throw new Error('Unknown step');\r\n  }\r\n}\r\n\r\nexport default function Checkout() {\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n\r\n  const handleNext = () => {\r\n    setActiveStep(activeStep + 1);\r\n     if (activeStep == 2) {\r\n      fetch('http://127.0.0.1:8000/api/v1/task/create/', {method: 'POST', // Method itself\r\n      headers: {\r\n       'Accept': 'application/json',\r\n       'Content-Type': 'application/json'\r\n       },\r\n      body: JSON.stringify({\r\n        'title':  global.that.state.title,\r\n        'place': global.that.state.place,\r\n        'description': global.that.state.description,\r\n        'shelter': global.that.state.shelter,\r\n        'allergy': global.that.state.allergy,\r\n        'exp': global.that.state.XP,    \r\n    })});\r\n    fetch('http://127.0.0.1:8000/api/v1/task/getlist/?format=json')\r\n    .then(response => response.json())\r\n    .then(result => {\r\n      global.jsn = result;\r\n    },\r\n    // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n    // чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n    (error) => {\r\n      console.log(error)\r\n    });\r\n     }\r\n   };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep(activeStep - 1);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n            Создание нового задания\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n            Мероприятие\r\n          </Typography>\r\n          <Stepper activeStep={activeStep} className={classes.stepper}>\r\n            {steps.map(label => (\r\n              <Step key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n          <React.Fragment>\r\n            {activeStep === steps.length ? (\r\n              <React.Fragment>\r\n                <Typography variant=\"h5\" gutterBottom>\r\n                  Спасибо за помощь!\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\">\r\n                  Ваше задание уже размещено в приложении!\r\n                </Typography>\r\n              </React.Fragment>\r\n            ) : (\r\n              <React.Fragment>\r\n                {getStepContent(activeStep)}\r\n                <div className={classes.buttons}>\r\n                  {activeStep !== 0 && (\r\n                    <Button onClick={handleBack} className={classes.button}>\r\n                      Назад\r\n                    </Button>\r\n                  )}\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={handleNext}\r\n                    className={classes.button}\r\n                  >\r\n                    {activeStep === steps.length - 1 ? 'Разместить задание' : 'Далее'}\r\n                  </Button>\r\n                </div>\r\n              </React.Fragment>\r\n            )}\r\n          </React.Fragment>\r\n        </Paper>\r\n        <Copyright />\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n  }\r\n","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nexport default function AddressForm() { \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Добавить событие\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} sm={6}>\r\n          <span class=\"textView\">Название</span>\r\n          <input type=\"text\" value={global.that.state.title} onChange={(e)=> {\r\n            global.that.setState({title: e.target.value})\r\n          }}>\r\n          </input>\r\n          </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n        <span class=\"textView\">Место мероприятия</span>\r\n          <input type=\"text\" value = {global.that.state.place} onChange={(e)=> {\r\n            global.that.setState({place: e.target.value})\r\n          }}>\r\n          </input>\r\n          </Grid>\r\n          <span class=\"textView\">Описание</span>\r\n        <input type=\"text\" value = {global.that.state.description} onChange={(e)=> {\r\n            global.that.setState({description: e.target.value})\r\n          }}>\r\n          </input>\r\n          </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          \r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <br/>  \r\n          <FormControlLabel \r\n            control={<Checkbox color=\"seßcondary\" name=\"saveAddress\" value=\"yes\" \r\n            onChange={(e)=>{\r\n              global.that.setState({allergy: e.target.value})\r\n            }} />}\r\n            label=\"Это задание может быть выполнено алергиком\"\r\n          />\r\n        </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\n\r\nexport default function PaymentForm() {\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Дополнительные сведения\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={6}>\r\n            <span class=\"textView\">Идентификационный номер приюта</span>\r\n            <input type=\"text\" value = {global.that.state.shelter} onChange={(e)=> {\r\n                global.that.setState({shelter: e.target.value})\r\n            }}>\r\n          </input>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n        <span class=\"textView\">Дата</span>\r\n          <input type=\"date\" value = {global.that.state.date} onChange={(e)=> {\r\n                global.that.setState({date: e.target.value})\r\n            }}>\r\n          </input>       \r\n          </Grid>\r\n        <Grid item xs={12} md={6}>\r\n        <span class=\"textView\">Награда в очках опыта</span>\r\n          <input type=\"text\" value = {global.that.state.XP} onChange={(e)=> {\r\n            global.that.setState({XP: e.target.value})\r\n          }}>\r\n          </input>\r\n        </Grid>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport './Review.css';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  listItem: {\r\n    padding: theme.spacing(1, 0),\r\n  },\r\n  total: {\r\n    fontWeight: '700',\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function Review() {\r\n  const classes = useStyles();\r\n\r\n    \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Проверка\r\n      </Typography>\r\n      <div class=\"newEventInfo\">\r\n          <div class=\"newEventInfo__place\">\r\n              <br/>\r\n              <span><b>Место</b> -- {global.that.state.place}</span>\r\n          </div>\r\n          <div class=\"neEventInfo__title\">\r\n              <br/>\r\n              <span><b>Название</b> -- {global.that.state.title}</span>\r\n          </div>\r\n          <div class=\"newEventInfo__place\">\r\n              <br/>\r\n              <span><b>Дата</b> -- {global.that.state.date}</span>\r\n          </div>\r\n          <div class=\"newEventInfo__place\">\r\n             <br/>\r\n              <span><b>Приют</b> -- {global.that.state.shelter}</span>\r\n          </div>\r\n          <div class=\"newEventInfo__place\">\r\n          <b>Описание</b> <br/>\r\n              <span>{global.that.state.description}</span>\r\n          </div>  \r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, FormStatus, Button, Input, PanelHeaderBack, View, Panel, Slider, Select, Group, Div, InfoRow,\r\n  Progress, File, Tabs, TabsItem, Avatar } from '@vkontakte/vkui';\r\nimport vkConnectPromise from '@vkontakte/vk-connect-promise';\r\nimport vkConnect from '@vkontakte/vk-connect';\r\nimport \"./TabLost.css\"; \r\n\r\nexport default class TabLost extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n  \r\n  state = {\r\n    clicked: 'false'\r\n  }\r\n\r\n  static defaultProps = {\r\n      \r\n  };\r\n\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value1: 50,\r\n      loadWorksheep: false,\r\n      post: false\r\n    };\r\n  }\r\n\r\n  options () {\r\n    const options = [];\r\n    for (let i = 0; i <= 10; i += 2) {\r\n      options.push(<option value={`${i / 10}`} key={`${i}`}>{i / 10}</option>);\r\n    }\r\n    return options;\r\n  }\r\n\r\nsending = () => {\r\n    //.log(vkConnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 7175703, \"scope\": \"wall\"}))\r\n    vkConnectPromise\r\n      .send('VKWebAppGetAuthToken', {\"app_id\": 7175703, \"scope\": \"wall, notes, messages\"})\r\n      .then(data => {\r\n        global.token = data.access_token;\r\n        console.log(global.token)\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      });\r\n\r\n      //vkConnect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"wall.post\", \"request_id\": \"32test\", \"params\": {\"owner_id\": global.user_info.id, \"from_group\": 0, \"message\": 'test', \"v\":\"5.102\", \"access_token\":global.token}});\r\n      vkConnect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"messages.send\", \"request_id\": \"32test\", \"params\": {\"random_id\": \"12313132\", \"user_id\": 147993097, \"message\": 'test', \"v\":\"5.102\", \"access_token\": 'vbxhTPebYzKN38FStxtmSY9SM1tA_E8sVvqjnuFRhYgsbVUVbOBIuTtPToBYbKb8'}});\r\n\r\n      vkConnectPromise\r\n      .send('VKWebAppGetGeodata')\r\n      .then(data => {\r\n        global.lat = data.lat;\r\n        global.lon = data.long;\r\n        console.log(global.lat, global.lon)\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      });\r\n\r\n      fetch('https://56e779c6.ngrok.io/api/v1/post/send/', {\r\n        method: 'PUT', // Method itself\r\n        headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          \"id\": 14,\r\n          \"description\": document.getElementById(\"dsc\").value,\r\n          \"place\": document.getElementById(\"place\").value,\r\n          \"custom\": document.getElementById(\"prm\").value,\r\n          \"lat\": global.lat,\r\n          \"lon\": global.lon\r\n      })});\r\n      \r\n  }  \r\n\r\n  render() {\r\n    const { userInfo } = this.props;\r\n      const startPage = (\r\n        <Fragment>\r\n        \r\n      </Fragment>\r\n      );\r\n    return (\r\n      <div>\r\n          <center>\r\n          {!this.state.post &&\r\n        <form>\r\n        <div class=\"input-field col s12\">\r\n          <textarea id=\"dsc\" class=\"materialize-textarea\"></textarea>\r\n          <label for=\"dsc\">Описание проблемы</label>\r\n        </div>\r\n        <div class=\"input-field col s12\">\r\n          <textarea id=\"place\" class=\"materialize-textarea\"></textarea>\r\n          <label for=\"place\">Примерное местоположение</label>\r\n        </div><div class=\"input-field col s12\">\r\n          <textarea id=\"prm\" class=\"materialize-textarea \"></textarea>\r\n          <label for=\"prm\">Особые приметы</label>\r\n        </div>\r\n          <Button size=\"xl\" value='Сообщить' onClick={()=>{this.sending(); this.setState({post: true})}}>Сообщить</Button>\r\n        </form> \r\n        }\r\n         {this.state.post &&\r\n        <label class='posted'>Ваш пост отправлен на обработку!</label>\r\n        }\r\n           </center>\r\n      </div>\r\n    );\r\n  }\r\n  }\r\n\r\n","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FormLayout, FormStatus, Button, Input, PanelHeaderBack, View, Panel, Slider, Select, Group, Div, InfoRow,\r\n  Progress, File, Tabs, TabsItem, Avatar } from '@vkontakte/vkui';\r\nimport vkConnectPromise from '@vkontakte/vk-connect-promise';\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\n\r\nexport default class TabDonate extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n  \r\n  state = {\r\n    clicked: 'false'\r\n  }\r\n\r\n  static defaultProps = {\r\n      \r\n  };\r\n\r\n  constructor (props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value1: 50,\r\n      loadWorksheep: false\r\n    };\r\n  }\r\n\r\n  options () {\r\n    const options = [];\r\n    for (let i = 0; i <= 10; i += 2) {\r\n      options.push(<option value={`${i / 10}`} key={`${i}`}>{i / 10}</option>);\r\n    }\r\n    return options;\r\n  }\r\n\r\ndonate = () =>{\r\n    //connect.send(\"VKWebAppOpenPayForm\", {\"app_id\": 6396978, \"action\": \"pay-to-service\", \"params\": {\"group_id\": 180054668}});\r\n    /*vkConnectPromise\r\n      .send(\"VKWebAppOpenPayForm\", {\"app_id\": 7175703, \"action\": \"transfer-to-user\", \"params\": {\"user_id\": global.current_id}})\r\n      .then(data => {\r\n        global.lat = data.lat;\r\n        global.lon = data.lon;\r\n        console.log(global.lat, global.lon)\r\n      })\r\n      .catch(error => {\r\n        // Handling an error\r\n      });*/\r\n      console.log(global.current_id)\r\n      connect.send(\"VKWebAppInit\", {});\r\n      connect.send(\"VKWebAppOpenPayForm\", {\"app_id\": 7175703, \"action\": \"transfer-to-user\", \r\n            \"params\": {\"user_id\": global.current_id}});\r\n}\r\n\r\nrender() {\r\n    const items = this.props.events;\r\n    return (\r\n      <Fragment>\r\n          <form>\r\n        {global.shelters.map((shelter) => {\r\n          return (\r\n            <p>&emsp;\t    \r\n            <label>\r\n              <input type=\"checkbox\" id={shelter.id} onChange={()=>{\r\n                  for (var i=0; i< global.shelters.length; i++) {\r\n                    document.getElementById(global.shelters[i].id).checked=false;\r\n                  }\r\n                  document.getElementById(shelter.id).checked=true;\r\n                  global.current_id = shelter.urlVK;\r\n                }}/>\r\n              <span> {shelter.title}</span>\r\n            </label>\r\n            \r\n          </p>\r\n          );\r\n        })}\r\n        <Button size=\"xl\" value='Сообщить' onClick={this.donate}>Отправить</Button>\r\n        </form>\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, Button, PanelHeaderBack, Separator, Footer, PopoutWrapper } from '@vkontakte/vkui';\r\nimport { PANEL_MAIN, PANEL_EVENT_SENT, STATUS_DEFAULT, STATUS_REQUESTED, STATUS_APPROVED, PANEL_EVENT_INFO } from '../constants';\r\nimport { EventPropType } from '../base';\r\nimport Role from '../Components/Role';\r\nimport './EventInfo.css';\r\nimport Icon24Qr from '@vkontakte/icons/dist/24/qr';\r\nimport vkQr from 'vk-qr';\r\n\r\nexport default class EventInfo extends Component {\r\n  static propTypes = {\r\n    event: PropTypes.shape(EventPropType),\r\n\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    updateEventStatus: PropTypes.func,\r\n    hidePopout: PropTypes.func,\r\n    showPopout: PropTypes.func,\r\n  };\r\n\r\n  render() {\r\n    const { event } = this.props;\r\n\t\r\n\tvar shelter;\r\n\tfor (var i=0; i< global.shelters.length; i++){\r\n\t\tif (event.shelter === global.shelters[i].id){\r\n\t\t\tshelter = global.shelters[i];\r\n\t\t}\r\n\t}\r\n\t\r\n    return (\r\n      <Fragment>\r\n        <PanelHeader\r\n          left={<PanelHeaderBack onClick={() => this.props.go(PANEL_MAIN)} />}\r\n        >{event.title}\r\n        </PanelHeader>\r\n\r\n        <div className=\"EventInfo\">\r\n          <div className=\"EventInfo__in\">\r\n            {event.cover && <div className=\"EventInfo__cover\">\r\n              <img src={event.cover} />\r\n              {event.status === STATUS_APPROVED &&\r\n              <div className=\"EventInfo__qr\" onClick={() => {\r\n                const qrSvg = vkQr.createQR(event.title, {\r\n                  qrSize: 182,\r\n                  isShowLogo: true,\r\n                });\r\n\r\n                this.props.showPopout(\r\n                  <PopoutWrapper\r\n                    onClick={() => this.props.hidePopout()}\r\n                  >\r\n                    <div className=\"EventInfoQr\">\r\n                      <div className=\"EventInfoQr__title\">Персональный QR Code</div>\r\n                      <div className=\"EventInfoQr__svg\">\r\n                        <div dangerouslySetInnerHTML={{ __html: qrSvg }} />\r\n                      </div>\r\n                      <div className=\"EventInfoQr__caption\">Дайте отсканировать этот QR ментору на площадке</div>\r\n                      <div className=\"EventInfoQr__caption\">Не забудьте, свой QR нужно показать на входе и на выходе</div>\r\n                    </div>\r\n                  </PopoutWrapper>\r\n                );\r\n              }}>\r\n                <Icon24Qr width={28} height={28} />\r\n              </div>}\r\n            </div>}\r\n\r\n            <div className=\"EventInfo__title\">{event.title}</div>\r\n            {event.place && <div className=\"EventInfo__where\">{event.place}<br/>{shelter===undefined ? (<div></div>) : shelter.title }<br/>{event.date}</div>}\r\n\r\n          \r\n\r\n            <div\r\n              className=\"EventInfo__description\"\r\n              dangerouslySetInnerHTML={{ __html: event.description }}\r\n            />\r\n\r\n            <div className=\"EventInfo__footer\">\r\n              {event.status === STATUS_DEFAULT &&\r\n              <Button size=\"xl\" onClick={() => {\r\n\t\t\t\t  event.user_id = global.userInfo.id;\r\n\t\t\t\tfetch('https://56e779c6.ngrok.io/api/v1/task/detail/'+event.id, {method: 'PUT', // Method itself\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t headers: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Content-type': 'application/json; charset=UTF-8' // Indicates the content \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t body: JSON.stringify({'id': event.id, 'status': 2, 'user_id': toString(global.user_info.id)}) })\r\n                this.props.update(PANEL_EVENT_SENT, { event });\r\n                this.props.go(PANEL_EVENT_SENT);\r\n              }}>Подать заявку</Button>}\r\n\r\n              {event.status === STATUS_REQUESTED &&\r\n              <Button size=\"xl\" onClick={() => {\r\n\t\t\t\t  event.user_id = 0;\r\n\t\t\t\t  fetch('https://56e779c6.ngrok.io/api/v1/task/detail/'+event.id, {method: 'PUT', // Method itself\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t headers: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Content-type': 'application/json; charset=UTF-8' // Indicates the content \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t body: JSON.stringify({'id': event.id, 'status': 1, 'user_id': 0}) })\r\n                this.props.updateEventStatus(event.id, STATUS_DEFAULT);\r\n                this.props.update(PANEL_EVENT_INFO, {\r\n                  event: {\r\n                    ...event,\r\n                    status: STATUS_DEFAULT,\r\n                  },\r\n                });\r\n              }}>Отменить заявку</Button>}\r\n\t\t\t  {(global.userInfo.isAdmin && event.user_id) &&\r\n              <Button size=\"xl\" onClick={() => {\r\n\t\t\t\t  fetch('https://56e779c6.ngrok.io/api/v1/task/detail/'+event.id, {method: 'PUT', // Method itself\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t headers: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  'Content-type': 'application/json; charset=UTF-8' // Indicates the content \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t body: JSON.stringify({'id': event.id, 'status': 3}) })\r\n        //global.userInfo.exp += event.exp;\r\n        console.log(event.user_id)\r\n        for (var i = 0; i < global.vlt.length; i++){\r\n          if (global.vlt[i].urlVK.toString().split(',') in (global.user_info.id).toString().split(',')) {\r\n            global.vlt_i = i;\r\n            global.vlt[global.vlt_i].karma += event.exp;\r\n            console.log(global.vlt[global.vlt_i].karma)\r\n          }\r\n        }\r\n\r\n        \r\n\r\n\t\t\t\tfetch('https://56e779c6.ngrok.io/api/v1/task/getlist/?format=json')\r\n\t\t\t\t.then(response => response.json())\r\n\t\t\t\t.then(result => {\r\n\t\t\t\t  global.jsn = result;\r\n\t\t\t\t  this.setState();\r\n\t\t\t\t},\r\n\t\t\t\t// Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n\t\t\t\t// чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n\t\t\t\t(error) => {\r\n\t\t\t\t  console.log(error)\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tthis.props.update(PANEL_EVENT_SENT, { event });\r\n                this.props.go(PANEL_EVENT_SENT);\r\n              }}>Задание выполнено</Button>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './EventCard.css';\r\nimport { Separator } from '@vkontakte/vkui';\r\nimport Icon24User from '@vkontakte/icons/dist/24/user';\r\nimport Role from './Role';\r\n\r\nfunction EventCard(props) {\r\n  const { title, where, caption, exp, roles, onClick } = props;\r\n\r\n  return ( <div>{title === null ? (<div></div>) : (\r\n    <div className=\"EventCard\" onClick={onClick}>\r\n      <div className=\"EventCard__in\">\r\n        <div className=\"EventCard__header\">\r\n          <div className=\"EventCard__title\">{title}</div>\r\n          <div className=\"EventCard__exp\"><span class=\"new badge red\" data-badge-caption=\"\">{'+ '+exp+' exp'}</span></div>\r\n        </div>\r\n        <div className=\"EventCard__where\">{where}</div>\r\n\r\n        {roles.length > 0 && <div className=\"EventCard__roles\">\r\n          <Separator wide />\r\n          {roles.map((role, index) => {\r\n            return (\r\n              <Role\r\n                key={index}\r\n                name={role.name}\r\n                current={role.current}\r\n                need={role.need}\r\n              />\r\n            );\r\n          })}\r\n          <Separator wide />\r\n        </div>}\r\n\r\n        <div className=\"EventCard__caption\">\r\n          {caption}\r\n        </div>\r\n      </div>\r\n    </div>)\r\n  }</div>);\r\n}\r\n\r\nEventCard.propTypes = {\r\n  title: PropTypes.node,\r\n  exp: PropTypes.node,\r\n  where: PropTypes.node,\r\n  caption: PropTypes.node,\r\n  roles: PropTypes.arrayOf(PropTypes.shape({\r\n    name: PropTypes.string,\r\n    current: PropTypes.number,\r\n    need: PropTypes.number,\r\n  })),\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nEventCard.defaultProps = {\r\n  roles: [],\r\n};\r\n\r\nexport default EventCard;","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FormLayout, Select, TabComponent, PanelHeader, Tabs, TabsItem, Footer } from '@vkontakte/vkui';\r\nimport { PANEL_EVENT_INFO, PANEL_EVENT_SENT, TAB_EVENTS, TAB_WORK, TAB_MAP, TAB_ACCOUNT, PANEL_MAIN, PANEL_WORK_INFO, STATUS_DEFAULT } from '../constants';\r\nimport EventCard from '../Components/EventCard';\r\n\r\nexport default class TabEvents extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    events: PropTypes.array,\r\n  };\r\n\r\n  static defaultProps = {\r\n    events: [],\r\n  };\r\n\r\n  render() {\r\n    const items = this.props.events;\r\n    return (\r\n      <Fragment>\r\n        {!items.length && <Footer>Ничего не найдено</Footer>}\r\n        {items.map((event) => {\r\n          return (\r\n            <EventCard\r\n              key={event.status==STATUS_DEFAULT ? event.id : null}\r\n              title={event.status==STATUS_DEFAULT ? event.title : null  }\r\n              exp={event.status==STATUS_DEFAULT ? event.exp : null  }\r\n              where={event.status==STATUS_DEFAULT ? event.place : null  }\r\n              caption={event.status==STATUS_DEFAULT ? event.description : null}\r\n              onClick={() => {\r\n                this.props.update(PANEL_EVENT_INFO, { event });\r\n                this.props.go(PANEL_EVENT_INFO);\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n\r\n        <div style={{ height: 60 }} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { YMaps, Map, Placemark, ZoomControl, GeolocationControl} from 'react-yandex-maps';\r\nimport \"./TabMap.css\"\r\n\r\nexport default class TabMap extends Component {\r\n  static propTypes = {\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    isLoaded: false,\r\n    error: '',\r\n  }\r\n  \r\n  render() { \r\n    return (\r\n      <Fragment>\r\n        <div class=\"wrapper\" >\r\n          <YMaps>\r\n                <Map \r\n                  width={1000}\r\n                  height={640}\r\n                  defaultState={{ center: [59.935333, 30.254524], zoom: 11 }} >\r\n                  <Placemark {... {\r\n                    geometry: [59.902237, 30.288169],\r\n                    properties: {\r\n                    hintContent: 'Улица Манчинского, 19',\r\n                    balloonContent: 'Приют \"Лучшие друзья\"' \r\n                    },\r\n                    modules: ['geoObject.addon.balloon', 'geoObject.addon.hint']    \r\n                    }\r\n                  }\r\n                  />\r\n                  <Placemark {...{\r\n                      geometry: [60.003489, 30.332801],\r\n                      properties: {\r\n                          hintContent: 'Улица Манчинского, 19',\r\n                          balloonContent: 'Ветеринарная клиника \"Друзья человека\"'\r\n                      },\r\n                      modules: ['geoObject.addon.balloon', 'geoObject.addon.hint']\r\n                    }\r\n                  } \r\n                  />\r\n                  <Placemark {...{\r\n                      geometry: [59.954279, 30.437858],\r\n                      properties: {\r\n                          hintContent: 'Улица имени Василия Подшибякина, 46Б',\r\n                          balloonContent: 'Товары для животных '\r\n                      },\r\n                      modules: ['geoObject.addon.balloon', 'geoObject.addon.hint']\r\n                    }\r\n                  } \r\n                  />\r\n\r\n                  <ZoomControl options={{ float: 'right' }} />\r\n                </Map>\r\n            </YMaps>\r\n        </div>\r\n        \r\n        \r\n\r\n        <div class=\"loading-element\">\r\n          <img class=\"loading-element__image\" src=\"https://flevix.com/wp-content/uploads/2019/08/Loading-Icon.gif\" width=\"500\" height=\"500\" >\r\n          </img>\r\n        </div>\r\n      </Fragment>      \r\n    );\r\n  }\r\n}\r\n\r\n/*\r\n[\r\n  {\r\n    \"id\": 1,\r\n    \"title\": \"Центр помощи бездомным животным \\\"Лучик\\\" г. Надым\",\r\n    \"description\": \"Приют для бездомных животных города Надым\",\r\n    \"image\": \"https://56e779c6.ngrok.io/api/v1/shelter/getlist/images/schem.JPG\",\r\n    \"members\": \"\",\r\n    \"urlVK\": \"141883313\"\r\n  },\r\n  {\r\n    \"id\": 2,\r\n    \"title\": \"Приют города Салехарда\",\r\n    \"description\": \"Приют для бездомных животных\",\r\n    \"image\": \"https://56e779c6.ngrok.io/api/v1/shelter/getlist/images/no-img.jpg\",\r\n    \"members\": \"\",\r\n    \"urlVK\": \"147993097\"\r\n  }\r\n]\r\n*/","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tabs, TabsItem, FixedLayout, activeTab, Group, PanelHeader, PanelHeaderBack, Footer } from '@vkontakte/vkui';\r\nimport { PANEL_EVENT_INFO, PANEL_EVENT_SENT, TAB_EVENTS, TAB_WORK, TAB_MAP, TAB_ACCOUNT, PANEL_MAIN, PANEL_WORK_INFO, STATUS_REQUESTED, STATUS_APPROVED } from '../constants';\r\nimport EventCard from '../Components/EventCard';\r\n\r\nconst WORK_TAB_ALL = 'all';\r\nconst WORK_TAB_APPROVED = 'approved';\r\n\r\nexport default class TabWork extends Component {\r\n  static propTypes = {\r\n    workActiveTab: PropTypes.string,\r\n    events: PropTypes.array,\r\n\r\n    update: PropTypes.func.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    events: [],\r\n    workActiveTab: WORK_TAB_ALL,\r\n  };\r\n\r\n  openEvent = (e) => {\r\n    this.props.update(PANEL_WORK_INFO, {\r\n      eventName: e.currentTarget.getAttribute('data-event-name'),\r\n    });\r\n\r\n    this.props.go(PANEL_WORK_INFO);\r\n  };\r\n\r\n  render() {\r\n    const status = this.props.workActiveTab === WORK_TAB_ALL ? STATUS_REQUESTED : STATUS_APPROVED;\r\n    const items = this.props.events.filter(i => i.status === status);\r\n\r\n    return (\r\n      <Fragment>\r\n        <Tabs theme=\"light\">\r\n          <TabsItem\r\n            onClick={() => this.props.update(PANEL_MAIN, { workActiveTab: WORK_TAB_ALL })}\r\n            selected={this.props.workActiveTab === WORK_TAB_ALL}\r\n          >\r\n            Зарегистрированные\r\n          </TabsItem>\r\n          <TabsItem\r\n            onClick={() => this.props.update(PANEL_MAIN, { workActiveTab: WORK_TAB_APPROVED })}\r\n            selected={this.props.workActiveTab === WORK_TAB_APPROVED}\r\n          >\r\n            Выполненные\r\n          </TabsItem>\r\n        </Tabs>\r\n\r\n        {!items.length && <Footer>Ничего не найдено</Footer>}\r\n\r\n        {items.map((event) => {\r\n          return (\r\n            <EventCard\r\n              key={event.id}\r\n              title={event.title}\r\n              exp={event.exp}\r\n              where={event.where}\r\n              caption={event.caption}\r\n              roles={event.roles}\r\n              onClick={() => {\r\n                this.props.update(PANEL_EVENT_INFO, { event });\r\n                this.props.go(PANEL_EVENT_INFO);\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n\r\n        <div style={{ height: 60 }} />\r\n      </Fragment>\r\n    );\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { PanelHeader, FixedLayout, Tabs, TabsItem, Select, FormLayout} from '@vkontakte/vkui';\r\nimport { TAB_EVENTS, TAB_WORK, TAB_MAP, TAB_ACCOUNT, PANEL_MAIN, TAB_LOST, TAB_DONATE } from '../constants';\r\nimport TabEvents from './TabEvents';\r\nimport TabAccount from './TabAccount.js';\r\nimport TabMap from './TabMap';\r\nimport TabWork from './TabWork';\r\nimport TabLost from './TabLost';\r\nimport TabDonate from './TabDonate';\r\nimport Icon20CalendarOutline from '@vkontakte/icons/dist/20/calendar_outline';\r\nimport Icon20WorkOutline from '@vkontakte/icons/dist/20/work_outline';\r\nimport Icon24Globe from '@vkontakte/icons/dist/24/globe';\r\nimport Icon28Profile from '@vkontakte/icons/dist/28/profile';\r\nimport Icon20ArticleOutline from '@vkontakte/icons/dist/20/article_outline';\r\nimport Icon20PlaceOutline from '@vkontakte/icons/dist/20/place_outline';\r\nimport Icon24BrowserForward from '@vkontakte/icons/dist/24/browser_forward';\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\nexport default class Main extends Component {\r\n  static propTypes = {\r\n    activeTab: PropTypes.string,\r\n    go: PropTypes.func.isRequired,\r\n    update: PropTypes.func.isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    activeTab: TAB_EVENTS,\r\n  };\r\n\r\n  onTabClick = (e) => {\r\n    this.props.update(PANEL_MAIN, {\r\n      activeTab: e.currentTarget.dataset.id,\r\n    });\r\n  };\r\n  onDonate = (e) => {\r\n    /*connect.send(\"VKWebAppInit\", {});\r\n    connect.send(\"VKWebAppOpenPayForm\", {\"app_id\": 7175703, \"action\": \"pay-to-group\", \r\n          \"params\": {\"group_id\": 180054668}});*/\r\n    this.props.update(PANEL_MAIN, {\r\n      activeTab: TAB_DONATE,\r\n    });\r\n  };\r\n  \r\n\r\n  getTabComponent = () => {\r\n    const { activeTab } = this.props;\r\n\r\n    switch (activeTab) {\r\n      case TAB_EVENTS:\r\n        return TabEvents;\r\n\r\n      case TAB_WORK:\r\n        return TabWork;\r\n\r\n      case TAB_MAP:\r\n        return TabMap;\r\n\r\n      case TAB_ACCOUNT:\r\n        return TabAccount;\r\n      \r\n        case TAB_LOST:\r\n        return TabLost;\r\n\r\n        case TAB_DONATE:\r\n        return TabDonate;\r\n\r\n      default:\r\n        return <div>Что-то пошло не так, нет такой вкладки</div>;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { activeTab } = this.props;\r\n    const TabComponent = this.getTabComponent();\r\n\r\n    return (\r\n      <Fragment>\r\n        <PanelHeader>Помоги Барбосу</PanelHeader>\r\n\r\n        <TabComponent\r\n          {...this.props}\r\n        />\r\n\t\t\t<div class=\"fixed-action-btn\" style={{bottom:60}}>\r\n\t\t\t\t<a class=\"btn-floating btn-large waves-effect waves-light red\" onClick={this.onDonate}><i class=\"large material-icons\">attach_money</i></a>\r\n\t\t\t</div>\r\n\t\r\n\t\t<FixedLayout vertical=\"bottom\">\r\n          <Tabs>\r\n            <TabsItem\r\n              data-id={TAB_EVENTS}\r\n              selected={activeTab === TAB_EVENTS}\r\n              onClick={this.onTabClick}\r\n            ><Icon20CalendarOutline width={25} height={25}/></TabsItem>\r\n\r\n            <TabsItem\r\n              data-id={TAB_WORK}\r\n              selected={activeTab === TAB_WORK}\r\n              onClick={this.onTabClick}\r\n            ><Icon20ArticleOutline width={25} height={25}/></TabsItem>\r\n\r\n            <TabsItem\r\n              data-id={TAB_MAP}\r\n              selected={activeTab === TAB_MAP}\r\n              onClick={this.onTabClick}\r\n            ><Icon20PlaceOutline width={25} height={25}/></TabsItem>\r\n\r\n            <TabsItem\r\n              data-id={TAB_LOST}\r\n              selected={activeTab === TAB_LOST}\r\n              onClick={this.onTabClick}\r\n            > <Icon24BrowserForward width={25} height={25}/></TabsItem>\r\n\r\n\r\n            <TabsItem\r\n              data-id={TAB_ACCOUNT}\r\n              selected={activeTab === TAB_ACCOUNT}\r\n              onClick={this.onTabClick}\r\n            ><Icon28Profile width={25} height={25}/></TabsItem>\r\n          </Tabs>\r\n        </FixedLayout>\r\n      </Fragment>\r\n    );\r\n  }\r\n}"],"sourceRoot":""}